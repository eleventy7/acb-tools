---
category: 'note'
cover: './top.jpg'
title: 'Split brain'
subtitle: 'A danger to all correct clustered replicated state machines'
description: 'A danger to all correct clustered replicated state machines'
date: '2020-12-13'
tags: ['Distributed Systems']
published: true
state: draft
updated: '2020-12-13'
importance: low
evergreen: ðŸŒ±
series: 
seriesurl: 
review: continuous
---

Split brain refers to an error condition in clustered replicated state machine based systems that must be solved in order to guarantee correct operation. 

The condition can occur if the cluster operates with a strong leader, and a network partition has happened that disconnects the cluster nodes from each other, but clients are able to correctly communicate with all cluster nodes.
Without a protocol to solve which cluster node is the leader, each node could decide that since the other one is unavailable then it must become leader. 
Split brain is especially dangerous when we are running a [Replicated State Machine](/note/replicated-state-machines), since we may have clients modifying the states of several replicated state machines in parallel, thus corrupting the system state.

<div align="center">
<svg width="75%" height="auto" viewBox="0 0 586 366" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="366.5" y="0.5" width="176" height="100" rx="3.5" fill="#5AC8FA" stroke="black"/>
<rect x="0.5" y="133.5" width="176" height="100" rx="3.5" fill="#FFCC02" stroke="black"/>
<rect x="366.5" y="265.5" width="176" height="100" rx="3.5" fill="#5AC8FA" stroke="black"/>
<mask maskUnits="userSpaceOnUse" x="0" y="0" width="0" height="0" fill="black">
<rect fill="white" width="0" height="0"/>
</mask>
<path d="M456.707 101.293C456.317 100.902 455.683 100.902 455.293 101.293L448.929 107.657C448.538 108.047 448.538 108.681 448.929 109.071C449.319 109.462 449.953 109.462 450.343 109.071L456 103.414L461.657 109.071C462.047 109.462 462.681 109.462 463.071 109.071C463.462 108.681 463.462 108.047 463.071 107.657L456.707 101.293ZM455.293 263.707C455.683 264.098 456.317 264.098 456.707 263.707L463.071 257.343C463.462 256.953 463.462 256.319 463.071 255.929C462.681 255.538 462.047 255.538 461.657 255.929L456 261.586L450.343 255.929C449.953 255.538 449.319 255.538 448.929 255.929C448.538 256.319 448.538 256.953 448.929 257.343L455.293 263.707ZM455 102L455 263L457 263L457 102L455 102Z" fill="black" mask="url(#)"/>
<line x1="439.707" y1="167.293" x2="470.707" y2="198.293" stroke="#FF2E55" stroke-width="2"/>
<line x1="470.707" y1="167.707" x2="439.707" y2="198.707" stroke="#FF2E55" stroke-width="2"/>
<path d="M366.973 51.2328C367.101 50.6956 366.77 50.156 366.233 50.0275L357.48 47.9325C356.943 47.804 356.403 48.1352 356.275 48.6723C356.146 49.2094 356.477 49.749 357.014 49.8776L364.795 51.7398L362.933 59.52C362.804 60.0571 363.135 60.5968 363.672 60.7253C364.209 60.8539 364.749 60.5227 364.878 59.9855L366.973 51.2328ZM177.523 167.852L366.523 51.8523L365.477 50.1477L176.477 166.148L177.523 167.852Z" fill="black"/>
<path d="M366.225 316.974C366.763 316.85 367.099 316.313 366.974 315.775L364.946 307.006C364.822 306.468 364.285 306.133 363.747 306.257C363.209 306.382 362.873 306.919 362.998 307.457L364.8 315.251L357.006 317.054C356.468 317.178 356.133 317.715 356.257 318.253C356.382 318.791 356.919 319.127 357.457 319.002L366.225 316.974ZM176.47 198.848L365.47 316.848L366.53 315.152L177.53 197.152L176.47 198.848Z" fill="black"/>
<path d="M380.759 25H382.604V22.1705H384.155C386.162 22.1705 387.33 20.973 387.33 19.2301C387.33 17.4957 386.183 16.2727 384.202 16.2727H380.759V25ZM382.604 20.6918V17.7812H383.848C384.913 17.7812 385.429 18.3608 385.429 19.2301C385.429 20.0952 384.913 20.6918 383.857 20.6918H382.604ZM388.494 25H390.309V21.2969C390.309 20.4915 390.897 19.9375 391.699 19.9375C391.95 19.9375 392.295 19.9801 392.466 20.0355V18.4247C392.304 18.3864 392.078 18.3608 391.895 18.3608C391.162 18.3608 390.561 18.7869 390.322 19.5966H390.254V18.4545H388.494V25ZM393.404 25H395.219V18.4545H393.404V25ZM394.316 17.6108C394.857 17.6108 395.3 17.1974 395.3 16.6903C395.3 16.1875 394.857 15.7741 394.316 15.7741C393.779 15.7741 393.336 16.1875 393.336 16.6903C393.336 17.1974 393.779 17.6108 394.316 17.6108ZM396.674 25H398.489V21.071C398.489 20.3466 398.949 19.8651 399.554 19.8651C400.151 19.8651 400.551 20.2741 400.551 20.9176V25H402.311V21.0028C402.311 20.3253 402.699 19.8651 403.36 19.8651C403.939 19.8651 404.374 20.2273 404.374 20.956V25H406.185V20.598C406.185 19.179 405.341 18.3693 404.123 18.3693C403.164 18.3693 402.418 18.8594 402.15 19.6094H402.081C401.873 18.8509 401.203 18.3693 400.304 18.3693C399.422 18.3693 398.753 18.8381 398.48 19.6094H398.404V18.4545H396.674V25ZM409.485 25.1236C410.453 25.1236 411.079 24.7017 411.399 24.0923H411.45V25H413.172V20.5852C413.172 19.0256 411.85 18.3693 410.393 18.3693C408.825 18.3693 407.794 19.1193 407.542 20.3125L409.221 20.4489C409.345 20.0142 409.733 19.6946 410.385 19.6946C411.002 19.6946 411.356 20.0057 411.356 20.5426V20.5682C411.356 20.9901 410.909 21.0455 409.771 21.1562C408.475 21.2756 407.312 21.7102 407.312 23.1719C407.312 24.4673 408.237 25.1236 409.485 25.1236ZM410.005 23.8707C409.447 23.8707 409.047 23.6108 409.047 23.1122C409.047 22.6009 409.468 22.3494 410.108 22.2599C410.504 22.2045 411.152 22.1108 411.369 21.9659V22.6605C411.369 23.3466 410.802 23.8707 410.005 23.8707ZM414.58 25H416.395V21.2969C416.395 20.4915 416.983 19.9375 417.784 19.9375C418.036 19.9375 418.381 19.9801 418.551 20.0355V18.4247C418.39 18.3864 418.164 18.3608 417.98 18.3608C417.248 18.3608 416.647 18.7869 416.408 19.5966H416.34V18.4545H414.58V25ZM420.81 27.4545C422.161 27.4545 422.877 26.7642 423.248 25.7074L425.792 18.4631L423.87 18.4545L422.502 23.2614H422.434L421.078 18.4545H419.169L421.517 25.1875L421.411 25.4645C421.172 26.0781 420.716 26.108 420.077 25.9119L419.668 27.267C419.928 27.3778 420.35 27.4545 420.81 27.4545ZM381.415 40L382.293 37.5284H385.821L386.699 40H387.807L384.602 31.2727H383.511L380.307 40H381.415ZM382.625 36.5909L384.023 32.6534H384.091L385.489 36.5909H382.625ZM389.03 40H390.036V35.9091C390.036 34.9503 390.734 34.2727 391.518 34.2727C392.281 34.2727 392.814 34.7713 392.814 35.517V40H393.837V35.7386C393.837 34.8949 394.365 34.2727 395.286 34.2727C396.001 34.2727 396.615 34.652 396.615 35.6193V40H397.621V35.6193C397.621 34.081 396.794 33.3693 395.626 33.3693C394.689 33.3693 394.003 33.7997 393.666 34.4773H393.598C393.274 33.7784 392.703 33.3693 391.842 33.3693C390.99 33.3693 390.359 33.7784 390.087 34.4773H390.001V33.4545H389.03V40ZM402.971 40H408.085V39.0625H404.028V31.2727H402.971V40ZM412.329 40.1364C413.658 40.1364 414.63 39.4716 414.937 38.483L413.965 38.2102C413.71 38.892 413.117 39.233 412.329 39.233C411.148 39.233 410.335 38.4702 410.288 37.0682H415.039V36.642C415.039 34.2045 413.59 33.3693 412.227 33.3693C410.454 33.3693 409.278 34.767 409.278 36.7784C409.278 38.7898 410.437 40.1364 412.329 40.1364ZM410.288 36.1989C410.356 35.1804 411.076 34.2727 412.227 34.2727C413.317 34.2727 414.016 35.0909 414.016 36.1989H410.288ZM418.495 40.1534C419.637 40.1534 420.234 39.5398 420.438 39.1136H420.489V40H421.495V35.6875C421.495 33.608 419.91 33.3693 419.075 33.3693C418.086 33.3693 416.961 33.7102 416.45 34.9034L417.404 35.2443C417.626 34.767 418.15 34.2557 419.109 34.2557C420.033 34.2557 420.489 34.7457 420.489 35.5852V35.6193C420.489 36.1051 419.995 36.0625 418.802 36.2159C417.587 36.3736 416.262 36.642 416.262 38.142C416.262 39.4205 417.251 40.1534 418.495 40.1534ZM418.648 39.25C417.847 39.25 417.268 38.892 417.268 38.1932C417.268 37.4261 417.967 37.1875 418.751 37.0852C419.177 37.0341 420.319 36.9148 420.489 36.7102V37.6307C420.489 38.4489 419.842 39.25 418.648 39.25ZM425.802 40.1364C427.064 40.1364 427.49 39.3523 427.711 38.9943H427.831V40H428.802V31.2727H427.797V34.4943H427.711C427.49 34.1534 427.098 33.3693 425.819 33.3693C424.166 33.3693 423.024 34.6818 423.024 36.7443C423.024 38.8239 424.166 40.1364 425.802 40.1364ZM425.939 39.233C424.677 39.233 424.029 38.125 424.029 36.7273C424.029 35.3466 424.66 34.2727 425.939 34.2727C427.166 34.2727 427.814 35.2614 427.814 36.7273C427.814 38.2102 427.149 39.233 425.939 39.233ZM433.528 40.1364C434.858 40.1364 435.829 39.4716 436.136 38.483L435.164 38.2102C434.909 38.892 434.316 39.233 433.528 39.233C432.348 39.233 431.534 38.4702 431.487 37.0682H436.238V36.642C436.238 34.2045 434.789 33.3693 433.426 33.3693C431.653 33.3693 430.477 34.767 430.477 36.7784C430.477 38.7898 431.636 40.1364 433.528 40.1364ZM431.487 36.1989C431.555 35.1804 432.275 34.2727 433.426 34.2727C434.517 34.2727 435.216 35.0909 435.216 36.1989H431.487ZM437.768 40H438.774V35.858C438.774 34.9716 439.473 34.3239 440.427 34.3239C440.696 34.3239 440.973 34.375 441.041 34.392V33.3693C440.926 33.3608 440.662 33.3523 440.512 33.3523C439.728 33.3523 439.047 33.7955 438.808 34.4432H438.74V33.4545H437.768V40ZM443.545 37.5455H444.568V37.4943C444.585 36.4375 444.858 35.9773 445.608 35.5085C446.358 35.0526 446.801 34.3963 446.801 33.4545C446.801 32.125 445.83 31.1534 444.33 31.1534C442.949 31.1534 441.854 32.0057 441.79 33.4545H442.864C442.928 32.4489 443.631 32.0398 444.33 32.0398C445.131 32.0398 445.778 32.5682 445.778 33.4034C445.778 34.081 445.391 34.5668 444.892 34.8693C444.057 35.3764 443.558 35.8707 443.545 37.4943V37.5455ZM444.091 40.0682C444.513 40.0682 444.858 39.723 444.858 39.3011C444.858 38.8793 444.513 38.5341 444.091 38.5341C443.669 38.5341 443.324 38.8793 443.324 39.3011C443.324 39.723 443.669 40.0682 444.091 40.0682ZM451.349 32.2102H454.093V40H455.15V32.2102H457.895V31.2727H451.349V32.2102ZM458.71 40H459.715V35.858C459.715 34.9716 460.414 34.3239 461.369 34.3239C461.637 34.3239 461.914 34.375 461.982 34.392V33.3693C461.867 33.3608 461.603 33.3523 461.454 33.3523C460.67 33.3523 459.988 33.7955 459.749 34.4432H459.681V33.4545H458.71V40ZM467.299 37.3239C467.299 38.5511 466.362 39.1136 465.612 39.1136C464.777 39.1136 464.18 38.5 464.18 37.5455V33.4545H463.174V37.6136C463.174 39.2841 464.061 40.0852 465.288 40.0852C466.277 40.0852 466.924 39.5568 467.231 38.892H467.299V40H468.305V33.4545H467.299V37.3239ZM472.891 40.1364C474.221 40.1364 475.192 39.4716 475.499 38.483L474.528 38.2102C474.272 38.892 473.68 39.233 472.891 39.233C471.711 39.233 470.897 38.4702 470.85 37.0682H475.602V36.642C475.602 34.2045 474.153 33.3693 472.789 33.3693C471.016 33.3693 469.84 34.767 469.84 36.7784C469.84 38.7898 470.999 40.1364 472.891 40.1364ZM470.85 36.1989C470.918 35.1804 471.638 34.2727 472.789 34.2727C473.88 34.2727 474.579 35.0909 474.579 36.1989H470.85Z" fill="black"/>
<path d="M491.058 171.273H489.222V176.761H489.145L485.378 171.273H483.759V180H485.604V174.507H485.668L489.464 180H491.058V171.273ZM495.532 180.128C497.151 180.128 498.242 179.339 498.498 178.125L496.819 178.014C496.635 178.513 496.167 178.773 495.561 178.773C494.654 178.773 494.078 178.172 494.078 177.196V177.192H498.536V176.693C498.536 174.469 497.189 173.369 495.459 173.369C493.533 173.369 492.284 174.737 492.284 176.757C492.284 178.832 493.516 180.128 495.532 180.128ZM494.078 176.067C494.117 175.321 494.684 174.724 495.489 174.724C496.277 174.724 496.823 175.287 496.827 176.067H494.078ZM503.202 173.455H501.971V171.886H500.155V173.455H499.26V174.818H500.155V178.227C500.147 179.51 501.02 180.145 502.337 180.089C502.806 180.072 503.138 179.979 503.321 179.919L503.036 178.568C502.946 178.585 502.755 178.628 502.584 178.628C502.222 178.628 501.971 178.491 501.971 177.989V174.818H503.202V173.455ZM505.676 180H507.593L508.718 175.884H508.799L509.924 180H511.846L513.623 173.455H511.791L510.794 177.827H510.738L509.664 173.455H507.862L506.805 177.852H506.745L505.731 173.455H503.895L505.676 180ZM517.385 180.128C519.371 180.128 520.607 178.768 520.607 176.753C520.607 174.724 519.371 173.369 517.385 173.369C515.399 173.369 514.163 174.724 514.163 176.753C514.163 178.768 515.399 180.128 517.385 180.128ZM517.393 178.722C516.477 178.722 516.009 177.882 516.009 176.74C516.009 175.598 516.477 174.754 517.393 174.754C518.293 174.754 518.761 175.598 518.761 176.74C518.761 177.882 518.293 178.722 517.393 178.722ZM521.787 180H523.602V176.297C523.602 175.491 524.19 174.938 524.991 174.938C525.243 174.938 525.588 174.98 525.759 175.036V173.425C525.597 173.386 525.371 173.361 525.188 173.361C524.455 173.361 523.854 173.787 523.615 174.597H523.547V173.455H521.787V180ZM526.697 180H528.512V177.92L529.002 177.362L530.788 180H532.914L530.362 176.288L532.791 173.455H530.707L528.61 175.939H528.512V171.273H526.697V180ZM483.759 195H485.604V192.17H487.155C489.162 192.17 490.33 190.973 490.33 189.23C490.33 187.496 489.183 186.273 487.202 186.273H483.759V195ZM485.604 190.692V187.781H486.848C487.913 187.781 488.429 188.361 488.429 189.23C488.429 190.095 487.913 190.692 486.857 190.692H485.604ZM493.185 195.124C494.152 195.124 494.778 194.702 495.098 194.092H495.149V195H496.871V190.585C496.871 189.026 495.55 188.369 494.092 188.369C492.524 188.369 491.493 189.119 491.241 190.312L492.92 190.449C493.044 190.014 493.432 189.695 494.084 189.695C494.702 189.695 495.055 190.006 495.055 190.543V190.568C495.055 190.99 494.608 191.045 493.47 191.156C492.175 191.276 491.011 191.71 491.011 193.172C491.011 194.467 491.936 195.124 493.185 195.124ZM493.705 193.871C493.146 193.871 492.746 193.611 492.746 193.112C492.746 192.601 493.168 192.349 493.807 192.26C494.203 192.205 494.851 192.111 495.068 191.966V192.661C495.068 193.347 494.501 193.871 493.705 193.871ZM498.279 195H500.094V191.297C500.094 190.491 500.683 189.938 501.484 189.938C501.735 189.938 502.08 189.98 502.251 190.036V188.425C502.089 188.386 501.863 188.361 501.68 188.361C500.947 188.361 500.346 188.787 500.107 189.597H500.039V188.455H498.279V195ZM506.999 188.455H505.767V186.886H503.952V188.455H503.057V189.818H503.952V193.227C503.944 194.51 504.817 195.145 506.134 195.089C506.603 195.072 506.935 194.979 507.118 194.919L506.833 193.568C506.743 193.585 506.551 193.628 506.381 193.628C506.019 193.628 505.767 193.491 505.767 192.989V189.818H506.999V188.455ZM508.181 195H509.997V188.455H508.181V195ZM509.093 187.611C509.635 187.611 510.078 187.197 510.078 186.69C510.078 186.188 509.635 185.774 509.093 185.774C508.556 185.774 508.113 186.188 508.113 186.69C508.113 187.197 508.556 187.611 509.093 187.611ZM514.408 195.128C516.394 195.128 517.63 193.768 517.63 191.753C517.63 189.724 516.394 188.369 514.408 188.369C512.423 188.369 511.187 189.724 511.187 191.753C511.187 193.768 512.423 195.128 514.408 195.128ZM514.417 193.722C513.501 193.722 513.032 192.882 513.032 191.74C513.032 190.598 513.501 189.754 514.417 189.754C515.316 189.754 515.785 190.598 515.785 191.74C515.785 192.882 515.316 193.722 514.417 193.722ZM520.626 191.216C520.63 190.372 521.133 189.878 521.866 189.878C522.594 189.878 523.033 190.355 523.029 191.156V195H524.844V190.832C524.844 189.307 523.95 188.369 522.586 188.369C521.614 188.369 520.911 188.847 520.617 189.609H520.54V188.455H518.81V195H520.626V191.216ZM529.258 195.128C530.877 195.128 531.968 194.339 532.224 193.125L530.545 193.014C530.362 193.513 529.893 193.773 529.288 193.773C528.38 193.773 527.805 193.172 527.805 192.196V192.192H532.262V191.693C532.262 189.469 530.916 188.369 529.186 188.369C527.26 188.369 526.011 189.737 526.011 191.757C526.011 193.832 527.243 195.128 529.258 195.128ZM527.805 191.067C527.843 190.321 528.41 189.724 529.216 189.724C530.004 189.724 530.549 190.287 530.554 191.067H527.805ZM535.859 195.107C536.916 195.107 537.466 194.497 537.717 193.952H537.794V195H539.583V186.273H537.772V189.554H537.717C537.474 189.021 536.95 188.369 535.855 188.369C534.419 188.369 533.204 189.486 533.204 191.736C533.204 193.926 534.368 195.107 535.859 195.107ZM536.434 193.662C535.544 193.662 535.058 192.869 535.058 191.727C535.058 190.594 535.535 189.814 536.434 189.814C537.316 189.814 537.811 190.56 537.811 191.727C537.811 192.895 537.308 193.662 536.434 193.662Z" fill="#FF2E55"/>
<path d="M380.759 291H382.604V288.17H384.155C386.162 288.17 387.33 286.973 387.33 285.23C387.33 283.496 386.183 282.273 384.202 282.273H380.759V291ZM382.604 286.692V283.781H383.848C384.913 283.781 385.429 284.361 385.429 285.23C385.429 286.095 384.913 286.692 383.857 286.692H382.604ZM388.494 291H390.309V287.297C390.309 286.491 390.897 285.938 391.699 285.938C391.95 285.938 392.295 285.98 392.466 286.036V284.425C392.304 284.386 392.078 284.361 391.895 284.361C391.162 284.361 390.561 284.787 390.322 285.597H390.254V284.455H388.494V291ZM393.404 291H395.219V284.455H393.404V291ZM394.316 283.611C394.857 283.611 395.3 283.197 395.3 282.69C395.3 282.188 394.857 281.774 394.316 281.774C393.779 281.774 393.336 282.188 393.336 282.69C393.336 283.197 393.779 283.611 394.316 283.611ZM396.674 291H398.489V287.071C398.489 286.347 398.949 285.865 399.554 285.865C400.151 285.865 400.551 286.274 400.551 286.918V291H402.311V287.003C402.311 286.325 402.699 285.865 403.36 285.865C403.939 285.865 404.374 286.227 404.374 286.956V291H406.185V286.598C406.185 285.179 405.341 284.369 404.123 284.369C403.164 284.369 402.418 284.859 402.15 285.609H402.081C401.873 284.851 401.203 284.369 400.304 284.369C399.422 284.369 398.753 284.838 398.48 285.609H398.404V284.455H396.674V291ZM409.485 291.124C410.453 291.124 411.079 290.702 411.399 290.092H411.45V291H413.172V286.585C413.172 285.026 411.85 284.369 410.393 284.369C408.825 284.369 407.794 285.119 407.542 286.312L409.221 286.449C409.345 286.014 409.733 285.695 410.385 285.695C411.002 285.695 411.356 286.006 411.356 286.543V286.568C411.356 286.99 410.909 287.045 409.771 287.156C408.475 287.276 407.312 287.71 407.312 289.172C407.312 290.467 408.237 291.124 409.485 291.124ZM410.005 289.871C409.447 289.871 409.047 289.611 409.047 289.112C409.047 288.601 409.468 288.349 410.108 288.26C410.504 288.205 411.152 288.111 411.369 287.966V288.661C411.369 289.347 410.802 289.871 410.005 289.871ZM414.58 291H416.395V287.297C416.395 286.491 416.983 285.938 417.784 285.938C418.036 285.938 418.381 285.98 418.551 286.036V284.425C418.39 284.386 418.164 284.361 417.98 284.361C417.248 284.361 416.647 284.787 416.408 285.597H416.34V284.455H414.58V291ZM420.81 293.455C422.161 293.455 422.877 292.764 423.248 291.707L425.792 284.463L423.87 284.455L422.502 289.261H422.434L421.078 284.455H419.169L421.517 291.188L421.411 291.464C421.172 292.078 420.716 292.108 420.077 291.912L419.668 293.267C419.928 293.378 420.35 293.455 420.81 293.455ZM381.415 306L382.293 303.528H385.821L386.699 306H387.807L384.602 297.273H383.511L380.307 306H381.415ZM382.625 302.591L384.023 298.653H384.091L385.489 302.591H382.625ZM389.03 306H390.036V301.909C390.036 300.95 390.734 300.273 391.518 300.273C392.281 300.273 392.814 300.771 392.814 301.517V306H393.837V301.739C393.837 300.895 394.365 300.273 395.286 300.273C396.001 300.273 396.615 300.652 396.615 301.619V306H397.621V301.619C397.621 300.081 396.794 299.369 395.626 299.369C394.689 299.369 394.003 299.8 393.666 300.477H393.598C393.274 299.778 392.703 299.369 391.842 299.369C390.99 299.369 390.359 299.778 390.087 300.477H390.001V299.455H389.03V306ZM402.971 306H408.085V305.062H404.028V297.273H402.971V306ZM412.329 306.136C413.658 306.136 414.63 305.472 414.937 304.483L413.965 304.21C413.71 304.892 413.117 305.233 412.329 305.233C411.148 305.233 410.335 304.47 410.288 303.068H415.039V302.642C415.039 300.205 413.59 299.369 412.227 299.369C410.454 299.369 409.278 300.767 409.278 302.778C409.278 304.79 410.437 306.136 412.329 306.136ZM410.288 302.199C410.356 301.18 411.076 300.273 412.227 300.273C413.317 300.273 414.016 301.091 414.016 302.199H410.288ZM418.495 306.153C419.637 306.153 420.234 305.54 420.438 305.114H420.489V306H421.495V301.688C421.495 299.608 419.91 299.369 419.075 299.369C418.086 299.369 416.961 299.71 416.45 300.903L417.404 301.244C417.626 300.767 418.15 300.256 419.109 300.256C420.033 300.256 420.489 300.746 420.489 301.585V301.619C420.489 302.105 419.995 302.062 418.802 302.216C417.587 302.374 416.262 302.642 416.262 304.142C416.262 305.42 417.251 306.153 418.495 306.153ZM418.648 305.25C417.847 305.25 417.268 304.892 417.268 304.193C417.268 303.426 417.967 303.188 418.751 303.085C419.177 303.034 420.319 302.915 420.489 302.71V303.631C420.489 304.449 419.842 305.25 418.648 305.25ZM425.802 306.136C427.064 306.136 427.49 305.352 427.711 304.994H427.831V306H428.802V297.273H427.797V300.494H427.711C427.49 300.153 427.098 299.369 425.819 299.369C424.166 299.369 423.024 300.682 423.024 302.744C423.024 304.824 424.166 306.136 425.802 306.136ZM425.939 305.233C424.677 305.233 424.029 304.125 424.029 302.727C424.029 301.347 424.66 300.273 425.939 300.273C427.166 300.273 427.814 301.261 427.814 302.727C427.814 304.21 427.149 305.233 425.939 305.233ZM433.528 306.136C434.858 306.136 435.829 305.472 436.136 304.483L435.164 304.21C434.909 304.892 434.316 305.233 433.528 305.233C432.348 305.233 431.534 304.47 431.487 303.068H436.238V302.642C436.238 300.205 434.789 299.369 433.426 299.369C431.653 299.369 430.477 300.767 430.477 302.778C430.477 304.79 431.636 306.136 433.528 306.136ZM431.487 302.199C431.555 301.18 432.275 300.273 433.426 300.273C434.517 300.273 435.216 301.091 435.216 302.199H431.487ZM437.768 306H438.774V301.858C438.774 300.972 439.473 300.324 440.427 300.324C440.696 300.324 440.973 300.375 441.041 300.392V299.369C440.926 299.361 440.662 299.352 440.512 299.352C439.728 299.352 439.047 299.795 438.808 300.443H438.74V299.455H437.768V306ZM443.545 303.545H444.568V303.494C444.585 302.438 444.858 301.977 445.608 301.509C446.358 301.053 446.801 300.396 446.801 299.455C446.801 298.125 445.83 297.153 444.33 297.153C442.949 297.153 441.854 298.006 441.79 299.455H442.864C442.928 298.449 443.631 298.04 444.33 298.04C445.131 298.04 445.778 298.568 445.778 299.403C445.778 300.081 445.391 300.567 444.892 300.869C444.057 301.376 443.558 301.871 443.545 303.494V303.545ZM444.091 306.068C444.513 306.068 444.858 305.723 444.858 305.301C444.858 304.879 444.513 304.534 444.091 304.534C443.669 304.534 443.324 304.879 443.324 305.301C443.324 305.723 443.669 306.068 444.091 306.068ZM451.349 298.21H454.093V306H455.15V298.21H457.895V297.273H451.349V298.21ZM458.71 306H459.715V301.858C459.715 300.972 460.414 300.324 461.369 300.324C461.637 300.324 461.914 300.375 461.982 300.392V299.369C461.867 299.361 461.603 299.352 461.454 299.352C460.67 299.352 459.988 299.795 459.749 300.443H459.681V299.455H458.71V306ZM467.299 303.324C467.299 304.551 466.362 305.114 465.612 305.114C464.777 305.114 464.18 304.5 464.18 303.545V299.455H463.174V303.614C463.174 305.284 464.061 306.085 465.288 306.085C466.277 306.085 466.924 305.557 467.231 304.892H467.299V306H468.305V299.455H467.299V303.324ZM472.891 306.136C474.221 306.136 475.192 305.472 475.499 304.483L474.528 304.21C474.272 304.892 473.68 305.233 472.891 305.233C471.711 305.233 470.897 304.47 470.85 303.068H475.602V302.642C475.602 300.205 474.153 299.369 472.789 299.369C471.016 299.369 469.84 300.767 469.84 302.778C469.84 304.79 470.999 306.136 472.891 306.136ZM470.85 302.199C470.918 301.18 471.638 300.273 472.789 300.273C473.88 300.273 474.579 301.091 474.579 302.199H470.85Z" fill="black"/>
<path d="M24.4588 151.328C24.2159 149.312 22.6903 148.153 20.6705 148.153C18.3651 148.153 16.6051 149.781 16.6051 152.636C16.6051 155.483 18.3352 157.119 20.6705 157.119C22.9077 157.119 24.2585 155.632 24.4588 154.026L22.5923 154.017C22.4176 154.95 21.6847 155.487 20.7003 155.487C19.375 155.487 18.4759 154.503 18.4759 152.636C18.4759 150.821 19.3622 149.786 20.7131 149.786C21.723 149.786 22.4517 150.369 22.5923 151.328H24.4588ZM27.5632 148.273H25.7479V157H27.5632V148.273ZM29.0174 157H30.8327V150.455H29.0174V157ZM29.9293 149.611C30.4705 149.611 30.9137 149.197 30.9137 148.69C30.9137 148.188 30.4705 147.774 29.9293 147.774C29.3924 147.774 28.9492 148.188 28.9492 148.69C28.9492 149.197 29.3924 149.611 29.9293 149.611ZM35.2699 157.128C36.8892 157.128 37.9801 156.339 38.2358 155.125L36.5568 155.014C36.3736 155.513 35.9048 155.773 35.2997 155.773C34.392 155.773 33.8168 155.172 33.8168 154.196V154.192H38.2741V153.693C38.2741 151.469 36.9276 150.369 35.1974 150.369C33.2713 150.369 32.0227 151.737 32.0227 153.757C32.0227 155.832 33.2543 157.128 35.2699 157.128ZM33.8168 153.067C33.8551 152.321 34.4219 151.724 35.2273 151.724C36.0156 151.724 36.5611 152.287 36.5653 153.067H33.8168ZM41.2741 153.216C41.2784 152.372 41.7812 151.878 42.5142 151.878C43.2429 151.878 43.6818 152.355 43.6776 153.156V157H45.4929V152.832C45.4929 151.307 44.598 150.369 43.2344 150.369C42.2628 150.369 41.5597 150.847 41.2656 151.609H41.1889V150.455H39.4588V157H41.2741V153.216ZM50.4052 150.455H49.1737V148.886H47.3583V150.455H46.4634V151.818H47.3583V155.227C47.3498 156.51 48.2234 157.145 49.5401 157.089C50.0089 157.072 50.3413 156.979 50.5245 156.919L50.239 155.568C50.1495 155.585 49.9577 155.628 49.7873 155.628C49.4251 155.628 49.1737 155.491 49.1737 154.989V151.818H50.4052V150.455Z" fill="black"/>
</svg>
</div>

There are several solutions to prevent split brain conditions:

- Invest very heavily and build a bulletproof network. This approach was more common in decades past, but is in theory a valid solution. In the cloud this would likely be impossible.
- Use an external leader election process, which all cluster nodes can communicate with and have it elect the leader. Services such as [Hashicorp Consul](https://www.consul.io) or [Apache ZooKeeper](https://zookeeper.apache.org) can offer this functionality. When nodes lose access to this service they must stand down and reject further requests.
- Run a consensus algorithm in the cluster, for example RAFT. Raft uses Quorum to elect a leader - this ensures that nodes in a minority network partition cannot become leader.

---

## Backlinks

<div class="flex flex-row p-2 rounded-md">
    <div class="pr-2">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
</svg>
    </div>
    <div>
         <a href="../../article/primary-backup/">Primary-backup replication</a>
    </div>
</div>


---

## References


<div class="flex flex-row p-2 rounded-md">
<div class="pr-2">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
</svg>
</div>
<div>
<a href="https://en.wikipedia.org/wiki/Split-brain_(computing)">Wikipedia article on Split-brain (computing)</a>.
</div>
</div>

---

## Change log

- Added 13 December 2020 
