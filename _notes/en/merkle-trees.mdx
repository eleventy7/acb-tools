---
category: 'note'
cover: './top.jpg'
title: 'Merkle trees'
subtitle: 'Useful to verify any kind of data stored, handled and transferred in and between computers'
description: 'Useful to verify any kind of data stored, handled and transferred in and between computers'
date: '2020-12-08'
tags: ['Data Structure']
published: true
state: draft
updated: '2020-12-12'
importance: low
evergreen: ðŸŒ¿
series: 
seriesurl: 
review: continuous
---

Merkle trees, also known as *Hash Trees*, are well researched data structures used to verify data stored and transmitted between computers. 

To construct a Merkle tree, we must first take the underlying data, and divide it into fixed size pages. With the page size defined, we then compute the Merkle tree. This is done as follows:

- For each page, we take a hash of the data.
- For every pair of hashes at the same level, we compute a hash and place it at a higher level in the tree.
- We then recursively repeat this process until we are left with only a single hash.

This process of constructing the Merkle tree:

<div align="center">
 <svg width="80%" height="auto" viewBox="0 0 632 380" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="79.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="158.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="237.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="316.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="395.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="474.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="553.5" y="337.5" width="78" height="42" fill="#FFCC02" stroke="black"/>
<rect x="0.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="39.5" y="183.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="118.5" y="97.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="434.5" y="97.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="277.5" y="0.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="198.5" y="183.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="355.5" y="183.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="513.5" y="183.5" width="78" height="42" fill="#5AC8FA" stroke="black"/>
<rect x="79.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="158.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="237.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="316.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="395.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="474.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<rect x="553.5" y="260.5" width="78" height="42" fill="#FC826F" stroke="black"/>
<path d="M39.7071 302.293C39.3166 301.902 38.6834 301.902 38.2929 302.293L31.9289 308.657C31.5384 309.047 31.5384 309.681 31.9289 310.071C32.3195 310.462 32.9526 310.462 33.3431 310.071L39 304.414L44.6569 310.071C45.0474 310.462 45.6805 310.462 46.0711 310.071C46.4616 309.681 46.4616 309.047 46.0711 308.657L39.7071 302.293ZM40 337V303H38V337H40Z" fill="black"/>
<path d="M118.707 302.293C118.317 301.902 117.683 301.902 117.293 302.293L110.929 308.657C110.538 309.047 110.538 309.681 110.929 310.071C111.319 310.462 111.953 310.462 112.343 310.071L118 304.414L123.657 310.071C124.047 310.462 124.681 310.462 125.071 310.071C125.462 309.681 125.462 309.047 125.071 308.657L118.707 302.293ZM119 337V303H117V337H119Z" fill="black"/>
<path d="M197.707 302.293C197.317 301.902 196.683 301.902 196.293 302.293L189.929 308.657C189.538 309.047 189.538 309.681 189.929 310.071C190.319 310.462 190.953 310.462 191.343 310.071L197 304.414L202.657 310.071C203.047 310.462 203.681 310.462 204.071 310.071C204.462 309.681 204.462 309.047 204.071 308.657L197.707 302.293ZM198 337V303H196V337H198Z" fill="black"/>
<path d="M277.707 302.293C277.317 301.902 276.683 301.902 276.293 302.293L269.929 308.657C269.538 309.047 269.538 309.681 269.929 310.071C270.319 310.462 270.953 310.462 271.343 310.071L277 304.414L282.657 310.071C283.047 310.462 283.681 310.462 284.071 310.071C284.462 309.681 284.462 309.047 284.071 308.657L277.707 302.293ZM278 337V303H276V337H278Z" fill="black"/>
<path d="M356.707 302.293C356.317 301.902 355.683 301.902 355.293 302.293L348.929 308.657C348.538 309.047 348.538 309.681 348.929 310.071C349.319 310.462 349.953 310.462 350.343 310.071L356 304.414L361.657 310.071C362.047 310.462 362.681 310.462 363.071 310.071C363.462 309.681 363.462 309.047 363.071 308.657L356.707 302.293ZM357 337V303H355V337H357Z" fill="black"/>
<path d="M434.707 302.293C434.317 301.902 433.683 301.902 433.293 302.293L426.929 308.657C426.538 309.047 426.538 309.681 426.929 310.071C427.319 310.462 427.953 310.462 428.343 310.071L434 304.414L439.657 310.071C440.047 310.462 440.681 310.462 441.071 310.071C441.462 309.681 441.462 309.047 441.071 308.657L434.707 302.293ZM435 337V303H433V337H435Z" fill="black"/>
<path d="M513.707 302.293C513.317 301.902 512.683 301.902 512.293 302.293L505.929 308.657C505.538 309.047 505.538 309.681 505.929 310.071C506.319 310.462 506.953 310.462 507.343 310.071L513 304.414L518.657 310.071C519.047 310.462 519.681 310.462 520.071 310.071C520.462 309.681 520.462 309.047 520.071 308.657L513.707 302.293ZM514 337V303H512V337H514Z" fill="black"/>
<path d="M592.707 302.293C592.317 301.902 591.683 301.902 591.293 302.293L584.929 308.657C584.538 309.047 584.538 309.681 584.929 310.071C585.319 310.462 585.953 310.462 586.343 310.071L592 304.414L597.657 310.071C598.047 310.462 598.681 310.462 599.071 310.071C599.462 309.681 599.462 309.047 599.071 308.657L592.707 302.293ZM593 337V303H591V337H593Z" fill="black"/>
<path d="M536.978 225.79C536.862 225.25 536.33 224.906 535.79 225.022L526.99 226.908C526.45 227.024 526.106 227.555 526.222 228.095C526.338 228.635 526.869 228.979 527.409 228.864L535.232 227.187L536.908 235.01C537.024 235.55 537.555 235.894 538.095 235.778C538.635 235.662 538.979 235.131 538.864 234.591L536.978 225.79ZM514.84 260.543L536.84 226.543L535.16 225.457L513.16 259.457L514.84 260.543Z" fill="black"/>
<path d="M378.978 225.79C378.862 225.25 378.33 224.906 377.79 225.022L368.99 226.908C368.45 227.024 368.106 227.555 368.222 228.095C368.338 228.635 368.869 228.979 369.409 228.864L377.232 227.187L378.908 235.01C379.024 235.55 379.555 235.894 380.095 235.778C380.635 235.662 380.979 235.131 380.864 234.591L378.978 225.79ZM356.84 260.543L378.84 226.543L377.16 225.457L355.16 259.457L356.84 260.543Z" fill="black"/>
<path d="M220.978 225.79C220.862 225.25 220.33 224.906 219.79 225.022L210.99 226.908C210.45 227.024 210.106 227.555 210.222 228.095C210.338 228.635 210.869 228.979 211.409 228.864L219.232 227.187L220.908 235.01C221.024 235.55 221.555 235.894 222.095 235.778C222.635 235.662 222.979 235.131 222.864 234.591L220.978 225.79ZM198.84 260.543L220.84 226.543L219.16 225.457L197.16 259.457L198.84 260.543Z" fill="black"/>
<path d="M61.9778 225.79C61.8621 225.25 61.3305 224.906 60.7905 225.022L51.9902 226.908C51.4502 227.024 51.1063 227.555 51.222 228.095C51.3377 228.635 51.8693 228.979 52.4093 228.864L60.2317 227.187L61.908 235.01C62.0237 235.55 62.5553 235.894 63.0953 235.778C63.6353 235.662 63.9793 235.131 63.8636 234.591L61.9778 225.79ZM39.8396 260.543L61.8396 226.543L60.1604 225.457L38.1604 259.457L39.8396 260.543Z" fill="black"/>
<path d="M61.9778 225.79C61.8621 225.25 61.3305 224.906 60.7905 225.022L51.9902 226.908C51.4502 227.024 51.1063 227.555 51.222 228.095C51.3377 228.635 51.8693 228.979 52.4093 228.864L60.2317 227.187L61.908 235.01C62.0237 235.55 62.5553 235.894 63.0953 235.778C63.6353 235.662 63.9793 235.131 63.8636 234.591L61.9778 225.79ZM39.8396 260.543L61.8396 226.543L60.1604 225.457L38.1604 259.457L39.8396 260.543Z" fill="black"/>
<path d="M484.78 139.024C484.241 139.146 483.903 139.681 484.024 140.22L486.002 149C486.123 149.539 486.658 149.877 487.197 149.756C487.736 149.634 488.074 149.099 487.953 148.56L486.195 140.756L494 138.998C494.539 138.877 494.877 138.342 494.756 137.803C494.634 137.264 494.099 136.926 493.56 137.047L484.78 139.024ZM553.534 182.155L485.534 139.155L484.466 140.845L552.466 183.845L553.534 182.155Z" fill="black"/>
<path d="M174.78 139.024C174.241 139.146 173.903 139.681 174.024 140.22L176.002 149C176.123 149.539 176.658 149.877 177.197 149.756C177.736 149.634 178.074 149.099 177.953 148.56L176.195 140.756L184 138.998C184.539 138.877 184.877 138.342 184.756 137.803C184.634 137.264 184.099 136.926 183.56 137.047L174.78 139.024ZM243.534 182.155L175.534 139.155L174.466 140.845L242.466 183.845L243.534 182.155Z" fill="black"/>
<path d="M464.974 140.226C465.099 139.688 464.764 139.151 464.226 139.026L455.459 136.991C454.921 136.866 454.384 137.201 454.259 137.739C454.134 138.277 454.469 138.814 455.007 138.939L462.8 140.748L460.991 148.541C460.866 149.079 461.201 149.616 461.739 149.741C462.277 149.866 462.814 149.531 462.939 148.993L464.974 140.226ZM395.529 183.849L464.529 140.849L463.471 139.151L394.471 182.151L395.529 183.849Z" fill="black"/>
<path d="M148.974 140.226C149.099 139.688 148.764 139.151 148.226 139.026L139.459 136.991C138.921 136.866 138.384 137.201 138.259 137.739C138.134 138.277 138.469 138.814 139.007 138.939L146.8 140.748L144.991 148.541C144.866 149.079 145.201 149.616 145.739 149.741C146.277 149.866 146.814 149.531 146.939 148.993L148.974 140.226ZM79.5289 183.849L148.529 140.849L147.471 139.151L78.4711 182.151L79.5289 183.849Z" fill="black"/>
<path d="M306.906 43.4239C307.14 42.9236 306.924 42.3284 306.424 42.0943L298.272 38.2795C297.772 38.0454 297.177 38.2612 296.943 38.7614C296.709 39.2616 296.924 39.8569 297.425 40.091L304.67 43.4819L301.28 50.7277C301.045 51.2279 301.261 51.8232 301.761 52.0573C302.262 52.2914 302.857 52.0756 303.091 51.5754L306.906 43.4239ZM157.341 97.9402L306.341 43.9402L305.659 42.0598L156.659 96.0598L157.341 97.9402Z" fill="black"/>
<path d="M330.588 42.0887C330.085 42.3161 329.861 42.9084 330.089 43.4117L333.794 51.6135C334.021 52.1168 334.614 52.3405 335.117 52.1131C335.62 51.8858 335.844 51.2934 335.617 50.7901L332.323 43.4996L339.614 40.2059C340.117 39.9785 340.341 39.3862 340.113 38.8829C339.886 38.3796 339.293 38.1559 338.79 38.3833L330.588 42.0887ZM474.353 96.0645L331.353 42.0645L330.647 43.9355L473.647 97.9355L474.353 96.0645Z" fill="black"/>
<path d="M573.151 225.011C572.605 224.928 572.095 225.303 572.011 225.849L570.654 234.746C570.571 235.292 570.946 235.802 571.492 235.886C572.038 235.969 572.548 235.594 572.631 235.048L573.838 227.139L581.746 228.346C582.292 228.429 582.802 228.054 582.886 227.508C582.969 226.962 582.594 226.452 582.048 226.369L573.151 225.011ZM598.806 259.408L573.806 225.408L572.194 226.592L597.194 260.592L598.806 259.408Z" fill="black"/>
<path d="M409.151 225.011C408.605 224.928 408.095 225.303 408.011 225.849L406.654 234.746C406.571 235.292 406.946 235.802 407.492 235.886C408.038 235.969 408.548 235.594 408.631 235.048L409.838 227.139L417.746 228.346C418.292 228.429 418.802 228.054 418.886 227.508C418.969 226.962 418.594 226.452 418.048 226.369L409.151 225.011ZM434.806 259.408L409.806 225.408L408.194 226.592L433.194 260.592L434.806 259.408Z" fill="black"/>
<path d="M252.151 225.011C251.605 224.928 251.095 225.303 251.011 225.849L249.654 234.746C249.571 235.292 249.946 235.802 250.492 235.886C251.038 235.969 251.548 235.594 251.631 235.048L252.838 227.139L260.746 228.346C261.292 228.429 261.802 228.054 261.886 227.508C261.969 226.962 261.594 226.452 261.048 226.369L252.151 225.011ZM277.806 259.408L252.806 225.408L251.194 226.592L276.194 260.592L277.806 259.408Z" fill="black"/>
<path d="M93.1508 225.011C92.6048 224.928 92.0947 225.303 92.0114 225.849L90.6543 234.746C90.571 235.292 90.9461 235.802 91.492 235.886C92.038 235.969 92.5481 235.594 92.6314 235.048L93.8378 227.139L101.746 228.346C102.292 228.429 102.802 228.054 102.886 227.508C102.969 226.962 102.594 226.452 102.048 226.369L93.1508 225.011ZM118.806 259.408L93.8057 225.408L92.1943 226.592L117.194 260.592L118.806 259.408Z" fill="black"/>
<path d="M156.464 122H160.58C162.89 122 164.094 121.034 164.094 119.2V119.144C164.094 117.8 163.394 117.058 162.092 116.792C163.212 116.47 163.716 115.7 163.716 114.65V114.594C163.716 112.886 162.582 111.99 160.398 111.99H156.464V122ZM158.676 120.432V117.562H160.118C161.35 117.562 161.854 118.038 161.854 118.962V119.018C161.854 119.928 161.35 120.432 160.23 120.432H158.676ZM158.676 116.106V113.544H160.02C161.084 113.544 161.56 113.922 161.56 114.762V114.818C161.56 115.714 161.126 116.106 160.034 116.106H158.676Z" fill="black"/>
<path d="M78.2669 206.236V199.754H79.1629C81.2769 199.754 82.1589 200.86 82.1589 202.918V203.03C82.1589 205.102 81.2069 206.236 79.1909 206.236H78.2669ZM75.9989 208H79.2609C82.7749 208 84.5249 205.998 84.5249 203.002V202.89C84.5249 199.894 82.7889 197.99 79.2749 197.99H75.9989V208Z" fill="black"/>
<path d="M233.915 208H240.663V206.236H236.169V203.744H239.585V202.092H236.169V199.754H240.439V197.99H233.915V208Z" fill="black"/>
<path d="M392.106 210H394.374V206.122H397.664V204.414H394.374V201.768H398.532V199.99H392.106V210Z" fill="black"/>
<path d="M557.194 208.154C560.19 208.154 561.898 206.376 561.898 203.702V202.638H557.404V204.29H559.658C559.616 205.438 558.93 206.404 557.25 206.404C555.29 206.404 554.464 205.018 554.464 203.086V202.974C554.464 200.93 555.486 199.628 557.222 199.628C558.426 199.628 559.196 200.16 559.392 201.336H561.646C561.408 198.858 559.42 197.836 557.194 197.836C554.24 197.836 552.098 199.936 552.098 202.946V203.058C552.098 206.026 553.918 208.154 557.194 208.154Z" fill="black"/>
<path d="M479.35 122.154C481.814 122.154 483.592 120.88 483.844 118.402H481.618C481.436 119.69 480.568 120.32 479.322 120.32C477.67 120.32 476.718 119.116 476.718 117.044V116.932C476.718 114.86 477.726 113.628 479.308 113.628C480.568 113.628 481.24 114.272 481.408 115.476H483.732C483.494 113.012 481.702 111.836 479.294 111.836C476.452 111.836 474.324 113.908 474.324 116.946V117.058C474.324 120.138 476.074 122.154 479.35 122.154Z" fill="black"/>
<path d="M312.256 25H314.384L315.07 22.774H318.696L319.382 25H321.748L318.5 14.99H315.546L312.256 25ZM316.89 16.838L318.206 21.164H315.56L316.89 16.838Z" fill="black"/>
<path d="M39.4634 287H41.7314V276.99H39.7434L37.4334 278.628V280.56L39.4634 279.23V287Z" fill="black"/>
<path d="M112.019 287H119.579V285.278H115.687L117.577 283.43C118.739 282.31 119.509 281.218 119.509 279.888C119.509 278.082 118.249 276.85 116.037 276.85C113.797 276.85 112.397 278.11 112.285 280.42H114.343C114.497 279.104 115.057 278.586 115.939 278.586C116.807 278.586 117.269 279.118 117.269 279.944C117.269 280.854 116.653 281.736 115.687 282.758L112.019 286.636V287Z" fill="black"/>
<path d="M197.939 287.154C200.375 287.154 201.817 285.964 201.817 284.088C201.817 282.814 201.033 281.988 199.871 281.736C200.865 281.386 201.523 280.686 201.523 279.566C201.523 277.998 200.235 276.85 198.037 276.85C195.755 276.85 194.453 278.194 194.341 280.028H196.343C196.455 279.09 197.043 278.516 197.995 278.516C198.919 278.516 199.381 279.048 199.381 279.762C199.381 280.616 198.905 281.092 197.855 281.092H197.127V282.604H197.911C198.989 282.604 199.521 283.094 199.521 284.046C199.521 284.942 198.989 285.488 197.855 285.488C196.651 285.488 196.133 284.788 196.049 283.822H194.005C194.089 285.852 195.391 287.154 197.939 287.154Z" fill="black"/>
<path d="M277.684 287H279.882V285.012H281.198V283.388H279.882V276.99H277.096L272.77 284.186V285.012H277.684V287ZM275.038 283.388L277.726 278.698V283.388H275.038Z" fill="black"/>
<path d="M355.851 287.154C358.161 287.154 359.687 285.796 359.687 283.668C359.687 281.54 358.441 280.294 356.621 280.294C355.487 280.294 354.787 280.742 354.395 281.218L354.437 278.712H359.085V276.99H352.743L352.603 282.688H353.863C354.269 282.226 354.843 281.89 355.781 281.89C356.789 281.89 357.405 282.562 357.405 283.64C357.405 284.704 356.859 285.418 355.837 285.418C354.689 285.418 354.353 284.858 354.227 284.018H352.141C352.239 285.81 353.387 287.154 355.851 287.154Z" fill="black"/>
<path d="M434.166 287.154C436.546 287.154 438.016 285.768 438.016 283.71C438.016 281.694 436.602 280.462 434.712 280.462C433.508 280.462 432.752 280.966 432.29 281.708C432.346 279.65 433.116 278.558 434.362 278.558C435.23 278.558 435.566 278.964 435.706 279.622H437.806C437.582 277.788 436.322 276.85 434.334 276.85C431.884 276.85 430.05 278.74 430.05 282.128V282.38C430.05 285.11 431.142 287.154 434.166 287.154ZM434.138 285.516C433.13 285.516 432.43 284.816 432.43 283.668C432.43 282.674 433.13 281.96 434.138 281.96C435.16 281.96 435.79 282.688 435.79 283.738C435.79 284.788 435.132 285.516 434.138 285.516Z" fill="black"/>
<path d="M510.833 287H513.143L516.727 277.242V276.99H509.475V278.824H513.885L510.833 287Z" fill="black"/>
<path d="M593.009 287.154C595.235 287.154 596.915 286.076 596.915 284.116C596.915 282.926 596.257 282.058 595.081 281.652C595.963 281.26 596.537 280.574 596.537 279.566C596.537 277.858 594.941 276.85 593.023 276.85C591.147 276.85 589.481 277.844 589.481 279.58C589.481 280.588 590.027 281.288 590.937 281.666C589.789 282.072 589.089 282.954 589.089 284.172C589.089 286.132 590.797 287.154 593.009 287.154ZM593.009 285.502C592.085 285.502 591.343 284.956 591.343 283.962C591.343 282.968 592.099 282.422 593.023 282.422C593.961 282.422 594.675 282.968 594.675 283.948C594.675 284.942 593.961 285.502 593.009 285.502ZM593.037 281.036C592.253 281.036 591.595 280.546 591.595 279.734C591.595 278.922 592.225 278.432 593.023 278.432C593.821 278.432 594.437 278.95 594.437 279.72C594.437 280.546 593.849 281.036 593.037 281.036Z" fill="black"/>
</svg>

</div> 

Comparing two byte buffers via Merkle trees is a low cost exercise - if the two top level nodes match, the byte buffers are identical. If they do not, it is a trivial matter of walking down the tree to different pages by simply following paths where node hashes differ.

The comparison process can be seen below. Let's consider the case where the left tree represents the source, and the right hand represents the destination tree, and we have a single difference in the sixth page.

<div align="center">
<svg width="80%" height="auto" viewBox="0 0 848 235" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="49.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="98.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="147.5" y="208.5" width="47" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="195.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="244.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="293.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="342.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="0.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="24.5" y="113.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="73.5" y="60.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="268.5" y="60.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="171.5" y="0.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="122.5" y="113.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="220.5" y="113.5" width="47" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="317.5" y="113.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="49.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="98.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="147.5" y="161.5" width="47" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="195.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="244.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="293.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="342.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<path d="M24.3536 186.646C24.1583 186.451 23.8417 186.451 23.6464 186.646L20.4645 189.828C20.2692 190.024 20.2692 190.34 20.4645 190.536C20.6597 190.731 20.9763 190.731 21.1716 190.536L24 187.707L26.8284 190.536C27.0237 190.731 27.3403 190.731 27.5355 190.536C27.7308 190.34 27.7308 190.024 27.5355 189.828L24.3536 186.646ZM24.5 208V187H23.5V208H24.5Z" fill="black"/>
<path d="M73.3536 186.646C73.1583 186.451 72.8417 186.451 72.6464 186.646L69.4645 189.828C69.2692 190.024 69.2692 190.34 69.4645 190.536C69.6597 190.731 69.9763 190.731 70.1716 190.536L73 187.707L75.8284 190.536C76.0237 190.731 76.3403 190.731 76.5355 190.536C76.7308 190.34 76.7308 190.024 76.5355 189.828L73.3536 186.646ZM73.5 208V187H72.5V208H73.5Z" fill="black"/>
<path d="M122.354 186.646C122.158 186.451 121.842 186.451 121.646 186.646L118.464 189.828C118.269 190.024 118.269 190.34 118.464 190.536C118.66 190.731 118.976 190.731 119.172 190.536L122 187.707L124.828 190.536C125.024 190.731 125.34 190.731 125.536 190.536C125.731 190.34 125.731 190.024 125.536 189.828L122.354 186.646ZM122.5 208V187H121.5V208H122.5Z" fill="black"/>
<path d="M171.354 186.646C171.158 186.451 170.842 186.451 170.646 186.646L167.464 189.828C167.269 190.024 167.269 190.34 167.464 190.536C167.66 190.731 167.976 190.731 168.172 190.536L171 187.707L173.828 190.536C174.024 190.731 174.34 190.731 174.536 190.536C174.731 190.34 174.731 190.024 174.536 189.828L171.354 186.646ZM171.5 208V187H170.5V208H171.5Z" fill="black"/>
<path d="M220.354 186.646C220.158 186.451 219.842 186.451 219.646 186.646L216.464 189.828C216.269 190.024 216.269 190.34 216.464 190.536C216.66 190.731 216.976 190.731 217.172 190.536L220 187.707L222.828 190.536C223.024 190.731 223.34 190.731 223.536 190.536C223.731 190.34 223.731 190.024 223.536 189.828L220.354 186.646ZM220.5 208V187H219.5V208H220.5Z" fill="black"/>
<path d="M268.354 186.646C268.158 186.451 267.842 186.451 267.646 186.646L264.464 189.828C264.269 190.024 264.269 190.34 264.464 190.536C264.66 190.731 264.976 190.731 265.172 190.536L268 187.707L270.828 190.536C271.024 190.731 271.34 190.731 271.536 190.536C271.731 190.34 271.731 190.024 271.536 189.828L268.354 186.646ZM268.5 208V187H267.5V208H268.5Z" fill="black"/>
<path d="M317.354 186.646C317.158 186.451 316.842 186.451 316.646 186.646L313.464 189.828C313.269 190.024 313.269 190.34 313.464 190.536C313.66 190.731 313.976 190.731 314.172 190.536L317 187.707L319.828 190.536C320.024 190.731 320.34 190.731 320.536 190.536C320.731 190.34 320.731 190.024 320.536 189.828L317.354 186.646ZM317.5 208V187H316.5V208H317.5Z" fill="black"/>
<path d="M366.354 186.646C366.158 186.451 365.842 186.451 365.646 186.646L362.464 189.828C362.269 190.024 362.269 190.34 362.464 190.536C362.66 190.731 362.976 190.731 363.172 190.536L366 187.707L368.828 190.536C369.024 190.731 369.34 190.731 369.536 190.536C369.731 190.34 369.731 190.024 369.536 189.828L366.354 186.646ZM366.5 208V187H365.5V208H366.5Z" fill="black"/>
<path d="M331.962 139.658C331.904 139.388 331.639 139.216 331.369 139.274L326.969 140.217C326.699 140.275 326.527 140.541 326.584 140.811C326.642 141.081 326.908 141.253 327.178 141.195L331.089 140.357L331.927 144.268C331.985 144.538 332.251 144.71 332.521 144.652C332.791 144.594 332.963 144.329 332.905 144.059L331.962 139.658ZM318.288 161.061L331.893 140.035L331.054 139.492L317.448 160.518L318.288 161.061Z" fill="black"/>
<path d="M234.252 139.658C234.194 139.388 233.928 139.216 233.658 139.274L229.258 140.217C228.988 140.275 228.816 140.541 228.874 140.811C228.932 141.081 229.198 141.253 229.468 141.195L233.379 140.357L234.217 144.268C234.275 144.538 234.541 144.71 234.811 144.652C235.081 144.594 235.253 144.329 235.195 144.059L234.252 139.658ZM220.577 161.061L234.183 140.035L233.343 139.492L219.738 160.518L220.577 161.061Z" fill="black"/>
<path d="M136.541 139.658C136.484 139.388 136.218 139.216 135.948 139.274L131.548 140.217C131.278 140.275 131.106 140.541 131.164 140.811C131.221 141.081 131.487 141.253 131.757 141.195L135.668 140.357L136.507 144.268C136.564 144.538 136.83 144.71 137.1 144.652C137.37 144.594 137.542 144.329 137.484 144.059L136.541 139.658ZM122.867 161.061L136.472 140.035L135.633 139.492L122.027 160.518L122.867 161.061Z" fill="black"/>
<path d="M38.2123 139.658C38.1545 139.388 37.8887 139.216 37.6187 139.274L33.2186 140.217C32.9485 140.275 32.7766 140.541 32.8344 140.811C32.8923 141.081 33.1581 141.253 33.4281 141.195L37.3393 140.357L38.1774 144.268C38.2353 144.538 38.5011 144.71 38.7711 144.652C39.0411 144.594 39.2131 144.329 39.1552 144.059L38.2123 139.658ZM24.5379 161.061L38.1432 140.035L37.3036 139.492L23.6984 160.518L24.5379 161.061Z" fill="black"/>
<path d="M38.2123 139.658C38.1545 139.388 37.8887 139.216 37.6187 139.274L33.2186 140.217C32.9485 140.275 32.7766 140.541 32.8344 140.811C32.8923 141.081 33.1581 141.253 33.4281 141.195L37.3393 140.357L38.1774 144.268C38.2353 144.538 38.5011 144.71 38.7711 144.652C39.0411 144.594 39.2131 144.329 39.1552 144.059L38.2123 139.658ZM24.5379 161.061L38.1432 140.035L37.3036 139.492L23.6984 160.518L24.5379 161.061Z" fill="black"/>
<path d="M299.824 86.091C299.555 86.1517 299.386 86.4193 299.446 86.6887L300.435 91.0787C300.496 91.3481 300.763 91.5173 301.033 91.4566C301.302 91.3959 301.471 91.1284 301.411 90.859L300.532 86.9567L304.434 86.0778C304.703 86.0172 304.873 85.7496 304.812 85.4802C304.751 85.2108 304.484 85.0416 304.214 85.1023L299.824 86.091ZM342.254 112.748L300.201 86.1562L299.667 87.0014L341.72 113.593L342.254 112.748Z" fill="black"/>
<path d="M108.114 86.091C107.844 86.1517 107.675 86.4193 107.736 86.6887L108.725 91.0787C108.785 91.3481 109.053 91.5173 109.322 91.4566C109.592 91.3959 109.761 91.1284 109.7 90.859L108.821 86.9567L112.724 86.0778C112.993 86.0172 113.162 85.7496 113.102 85.4802C113.041 85.2108 112.773 85.0416 112.504 85.1023L108.114 86.091ZM150.544 112.748L108.491 86.1562L107.957 87.0014L150.009 113.593L150.544 112.748Z" fill="black"/>
<path d="M287.434 86.6919C287.497 86.4229 287.329 86.1542 287.06 86.0917L282.677 85.0742C282.408 85.0117 282.139 85.1792 282.077 85.4481C282.014 85.7171 282.182 85.9858 282.451 86.0483L286.347 86.9528L285.443 90.8492C285.38 91.1182 285.548 91.3868 285.817 91.4493C286.086 91.5117 286.354 91.3443 286.417 91.0753L287.434 86.6919ZM244.541 113.595L287.212 87.0031L286.683 86.1545L244.012 112.747L244.541 113.595Z" fill="black"/>
<path d="M92.0136 86.6919C92.076 86.4229 91.9086 86.1542 91.6396 86.0917L87.2561 85.0742C86.9872 85.0117 86.7185 85.1792 86.656 85.4481C86.5936 85.7171 86.761 85.9858 87.03 86.0483L90.9264 86.9528L90.0219 90.8492C89.9594 91.1182 90.1269 91.3868 90.3959 91.4493C90.6649 91.5117 90.9335 91.3443 90.996 91.0753L92.0136 86.6919ZM49.1199 113.595L91.791 87.0031L91.2621 86.1545L48.591 112.747L49.1199 113.595Z" fill="black"/>
<path d="M189.69 26.804C189.807 26.5539 189.699 26.2563 189.449 26.1392L185.373 24.2318C185.123 24.1148 184.825 24.2227 184.708 24.4728C184.591 24.7229 184.699 25.0205 184.949 25.1376L188.572 26.833L186.877 30.4559C186.76 30.706 186.868 31.0037 187.118 31.1207C187.368 31.2378 187.665 31.1299 187.783 30.8798L189.69 26.804ZM97.2626 60.4569L189.407 27.0622L189.067 26.122L96.9219 59.5167L97.2626 60.4569Z" fill="black"/>
<path d="M204.492 26.1364C204.24 26.2501 204.128 26.5463 204.242 26.7979L206.095 30.8989C206.208 31.1505 206.505 31.2623 206.756 31.1487C207.008 31.035 207.12 30.7388 207.006 30.4871L205.359 26.8419L209.004 25.195C209.256 25.0813 209.368 24.7852 209.254 24.5335C209.141 24.2819 208.844 24.17 208.593 24.2837L204.492 26.1364ZM293.308 59.5191L204.874 26.1243L204.521 27.0598L292.955 60.4546L293.308 59.5191Z" fill="black"/>
<path d="M354.431 139.269C354.158 139.227 353.903 139.415 353.861 139.688L353.183 144.136C353.141 144.409 353.328 144.664 353.601 144.706C353.874 144.748 354.129 144.56 354.171 144.287L354.774 140.333L358.729 140.936C359.002 140.978 359.257 140.79 359.298 140.517C359.34 140.244 359.152 139.989 358.879 139.948L354.431 139.269ZM370.219 160.493L354.758 139.467L353.953 140.059L369.413 161.086L370.219 160.493Z" fill="black"/>
<path d="M253.009 139.269C252.736 139.227 252.481 139.415 252.44 139.688L251.761 144.136C251.719 144.409 251.907 144.664 252.18 144.706C252.453 144.748 252.708 144.56 252.75 144.287L253.353 140.333L257.307 140.936C257.58 140.978 257.835 140.79 257.877 140.517C257.918 140.244 257.731 139.989 257.458 139.948L253.009 139.269ZM268.797 160.493L253.337 139.467L252.531 140.059L267.992 161.086L268.797 160.493Z" fill="black"/>
<path d="M155.918 139.269C155.645 139.227 155.39 139.415 155.348 139.688L154.669 144.136C154.628 144.409 154.815 144.664 155.088 144.706C155.361 144.748 155.616 144.56 155.658 144.287L156.261 140.333L160.215 140.936C160.488 140.978 160.743 140.79 160.785 140.517C160.827 140.244 160.639 139.989 160.366 139.948L155.918 139.269ZM171.706 160.493L156.245 139.467L155.439 140.059L170.9 161.086L171.706 160.493Z" fill="black"/>
<path d="M57.5885 139.269C57.3155 139.227 57.0605 139.415 57.0188 139.688L56.3402 144.136C56.2986 144.409 56.4861 144.664 56.7591 144.706C57.0321 144.748 57.2872 144.56 57.3288 144.287L57.932 140.333L61.8862 140.936C62.1592 140.978 62.4143 140.79 62.4559 140.517C62.4976 140.244 62.31 139.989 62.037 139.948L57.5885 139.269ZM73.3765 160.493L57.9159 139.467L57.1103 140.059L72.5708 161.086L73.3765 160.493Z" fill="black"/>
<path d="M95.4637 82H99.5797C101.89 82 103.094 81.034 103.094 79.2V79.144C103.094 77.8 102.394 77.058 101.092 76.792C102.212 76.47 102.716 75.7 102.716 74.65V74.594C102.716 72.886 101.582 71.99 99.3977 71.99H95.4637V82ZM97.6757 80.432V77.562H99.1177C100.35 77.562 100.854 78.038 100.854 78.962V79.018C100.854 79.928 100.35 80.432 99.2297 80.432H97.6757ZM97.6757 76.106V73.544H99.0197C100.084 73.544 100.56 73.922 100.56 74.762V74.818C100.56 75.714 100.126 76.106 99.0337 76.106H97.6757Z" fill="black"/>
<path d="M47.7669 133.236V126.754H48.6629C50.7769 126.754 51.6589 127.86 51.6589 129.918V130.03C51.6589 132.102 50.7069 133.236 48.6909 133.236H47.7669ZM45.4989 135H48.7609C52.2749 135 54.0249 132.998 54.0249 130.002V129.89C54.0249 126.894 52.2889 124.99 48.7749 124.99H45.4989V135Z" fill="black"/>
<path d="M143.415 135H150.163V133.236H145.669V130.744H149.085V129.092H145.669V126.754H149.939V124.99H143.415V135Z" fill="black"/>
<path d="M241.606 136H243.874V132.122H247.164V130.414H243.874V127.768H248.032V125.99H241.606V136Z" fill="black"/>
<path d="M344.694 135.154C347.69 135.154 349.398 133.376 349.398 130.702V129.638H344.904V131.29H347.158C347.116 132.438 346.43 133.404 344.75 133.404C342.79 133.404 341.964 132.018 341.964 130.086V129.974C341.964 127.93 342.986 126.628 344.722 126.628C345.926 126.628 346.696 127.16 346.892 128.336H349.146C348.908 125.858 346.92 124.836 344.694 124.836C341.74 124.836 339.598 126.936 339.598 129.946V130.058C339.598 133.026 341.418 135.154 344.694 135.154Z" fill="black"/>
<path d="M296.85 82.154C299.314 82.154 301.092 80.88 301.344 78.402H299.118C298.936 79.69 298.068 80.32 296.822 80.32C295.17 80.32 294.218 79.116 294.218 77.044V76.932C294.218 74.86 295.226 73.628 296.808 73.628C298.068 73.628 298.74 74.272 298.908 75.476H301.232C300.994 73.012 299.202 71.836 296.794 71.836C293.952 71.836 291.824 73.908 291.824 76.946V77.058C291.824 80.138 293.574 82.154 296.85 82.154Z" fill="black"/>
<path d="M191.256 22H193.384L194.07 19.774H197.696L198.382 22H200.748L197.5 11.99H194.546L191.256 22ZM195.89 13.838L197.206 18.164H194.56L195.89 13.838Z" fill="black"/>
<path d="M23.9634 181H26.2314V170.99H24.2434L21.9334 172.628V174.56L23.9634 173.23V181Z" fill="black"/>
<path d="M67.5186 181H75.0786V179.278H71.1866L73.0766 177.43C74.2386 176.31 75.0086 175.218 75.0086 173.888C75.0086 172.082 73.7486 170.85 71.5366 170.85C69.2966 170.85 67.8966 172.11 67.7846 174.42H69.8426C69.9966 173.104 70.5566 172.586 71.4386 172.586C72.3066 172.586 72.7686 173.118 72.7686 173.944C72.7686 174.854 72.1526 175.736 71.1866 176.758L67.5186 180.636V181Z" fill="black"/>
<path d="M122.439 181.154C124.875 181.154 126.317 179.964 126.317 178.088C126.317 176.814 125.533 175.988 124.371 175.736C125.365 175.386 126.023 174.686 126.023 173.566C126.023 171.998 124.735 170.85 122.537 170.85C120.255 170.85 118.953 172.194 118.841 174.028H120.843C120.955 173.09 121.543 172.516 122.495 172.516C123.419 172.516 123.881 173.048 123.881 173.762C123.881 174.616 123.405 175.092 122.355 175.092H121.627V176.604H122.411C123.489 176.604 124.021 177.094 124.021 178.046C124.021 178.942 123.489 179.488 122.355 179.488C121.151 179.488 120.633 178.788 120.549 177.822H118.505C118.589 179.852 119.891 181.154 122.439 181.154Z" fill="black"/>
<path d="M172.184 181H174.382V179.012H175.698V177.388H174.382V170.99H171.596L167.27 178.186V179.012H172.184V181ZM169.538 177.388L172.226 172.698V177.388H169.538Z" fill="black"/>
<path d="M219.851 181.154C222.161 181.154 223.687 179.796 223.687 177.668C223.687 175.54 222.441 174.294 220.621 174.294C219.487 174.294 218.787 174.742 218.395 175.218L218.437 172.712H223.085V170.99H216.743L216.603 176.688H217.863C218.269 176.226 218.843 175.89 219.781 175.89C220.789 175.89 221.405 176.562 221.405 177.64C221.405 178.704 220.859 179.418 219.837 179.418C218.689 179.418 218.353 178.858 218.227 178.018H216.141C216.239 179.81 217.387 181.154 219.851 181.154Z" fill="black"/>
<path d="M268.666 181.154C271.046 181.154 272.516 179.768 272.516 177.71C272.516 175.694 271.102 174.462 269.212 174.462C268.008 174.462 267.252 174.966 266.79 175.708C266.846 173.65 267.616 172.558 268.862 172.558C269.73 172.558 270.066 172.964 270.206 173.622H272.306C272.082 171.788 270.822 170.85 268.834 170.85C266.384 170.85 264.55 172.74 264.55 176.128V176.38C264.55 179.11 265.642 181.154 268.666 181.154ZM268.638 179.516C267.63 179.516 266.93 178.816 266.93 177.668C266.93 176.674 267.63 175.96 268.638 175.96C269.66 175.96 270.29 176.688 270.29 177.738C270.29 178.788 269.632 179.516 268.638 179.516Z" fill="black"/>
<path d="M315.333 181H317.643L321.227 171.242V170.99H313.975V172.824H318.385L315.333 181Z" fill="black"/>
<path d="M366.509 181.154C368.735 181.154 370.415 180.076 370.415 178.116C370.415 176.926 369.757 176.058 368.581 175.652C369.463 175.26 370.037 174.574 370.037 173.566C370.037 171.858 368.441 170.85 366.523 170.85C364.647 170.85 362.981 171.844 362.981 173.58C362.981 174.588 363.527 175.288 364.437 175.666C363.289 176.072 362.589 176.954 362.589 178.172C362.589 180.132 364.297 181.154 366.509 181.154ZM366.509 179.502C365.585 179.502 364.843 178.956 364.843 177.962C364.843 176.968 365.599 176.422 366.523 176.422C367.461 176.422 368.175 176.968 368.175 177.948C368.175 178.942 367.461 179.502 366.509 179.502ZM366.537 175.036C365.753 175.036 365.095 174.546 365.095 173.734C365.095 172.922 365.725 172.432 366.523 172.432C367.321 172.432 367.937 172.95 367.937 173.72C367.937 174.546 367.349 175.036 366.537 175.036Z" fill="black"/>
<rect x="457.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="506.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="555.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="604.5" y="208.5" width="47" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="652.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="701.5" y="208.5" width="48" height="26" fill="#FFCA7B" stroke="black"/>
<rect x="750.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="799.5" y="208.5" width="48" height="26" fill="#C4C4C4" stroke="black"/>
<rect x="457.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="481.5" y="113.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="530.5" y="60.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="725.5" y="60.5" width="48" height="26" fill="#45D2FF" stroke="black"/>
<rect x="628.5" y="0.5" width="48" height="26" fill="#29CCFF" stroke="black"/>
<rect x="579.5" y="113.5" width="48" height="26" fill="#C5F1FF" stroke="black"/>
<rect x="677.5" y="113.5" width="47" height="26" fill="#45D2FF" stroke="black"/>
<rect x="774.5" y="113.5" width="48" height="26" fill="#B7EEFF" stroke="black"/>
<rect x="506.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="555.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="604.5" y="161.5" width="47" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="652.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="701.5" y="161.5" width="48" height="25" fill="#FF5A5A" stroke="black"/>
<rect x="750.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<rect x="799.5" y="161.5" width="48" height="25" fill="#FFC5C5" stroke="black"/>
<path d="M481.354 186.646C481.158 186.451 480.842 186.451 480.646 186.646L477.464 189.828C477.269 190.024 477.269 190.34 477.464 190.536C477.66 190.731 477.976 190.731 478.172 190.536L481 187.707L483.828 190.536C484.024 190.731 484.34 190.731 484.536 190.536C484.731 190.34 484.731 190.024 484.536 189.828L481.354 186.646ZM481.5 208V187H480.5V208H481.5Z" fill="black"/>
<path d="M530.354 186.646C530.158 186.451 529.842 186.451 529.646 186.646L526.464 189.828C526.269 190.024 526.269 190.34 526.464 190.536C526.66 190.731 526.976 190.731 527.172 190.536L530 187.707L532.828 190.536C533.024 190.731 533.34 190.731 533.536 190.536C533.731 190.34 533.731 190.024 533.536 189.828L530.354 186.646ZM530.5 208V187H529.5V208H530.5Z" fill="black"/>
<path d="M579.354 186.646C579.158 186.451 578.842 186.451 578.646 186.646L575.464 189.828C575.269 190.024 575.269 190.34 575.464 190.536C575.66 190.731 575.976 190.731 576.172 190.536L579 187.707L581.828 190.536C582.024 190.731 582.34 190.731 582.536 190.536C582.731 190.34 582.731 190.024 582.536 189.828L579.354 186.646ZM579.5 208V187H578.5V208H579.5Z" fill="black"/>
<path d="M628.354 186.646C628.158 186.451 627.842 186.451 627.646 186.646L624.464 189.828C624.269 190.024 624.269 190.34 624.464 190.536C624.66 190.731 624.976 190.731 625.172 190.536L628 187.707L630.828 190.536C631.024 190.731 631.34 190.731 631.536 190.536C631.731 190.34 631.731 190.024 631.536 189.828L628.354 186.646ZM628.5 208V187H627.5V208H628.5Z" fill="black"/>
<path d="M677.354 186.646C677.158 186.451 676.842 186.451 676.646 186.646L673.464 189.828C673.269 190.024 673.269 190.34 673.464 190.536C673.66 190.731 673.976 190.731 674.172 190.536L677 187.707L679.828 190.536C680.024 190.731 680.34 190.731 680.536 190.536C680.731 190.34 680.731 190.024 680.536 189.828L677.354 186.646ZM677.5 208V187H676.5V208H677.5Z" fill="black"/>
<path d="M725.354 186.646C725.158 186.451 724.842 186.451 724.646 186.646L721.464 189.828C721.269 190.024 721.269 190.34 721.464 190.536C721.66 190.731 721.976 190.731 722.172 190.536L725 187.707L727.828 190.536C728.024 190.731 728.34 190.731 728.536 190.536C728.731 190.34 728.731 190.024 728.536 189.828L725.354 186.646ZM725.5 208V187H724.5V208H725.5Z" fill="black"/>
<path d="M774.354 186.646C774.158 186.451 773.842 186.451 773.646 186.646L770.464 189.828C770.269 190.024 770.269 190.34 770.464 190.536C770.66 190.731 770.976 190.731 771.172 190.536L774 187.707L776.828 190.536C777.024 190.731 777.34 190.731 777.536 190.536C777.731 190.34 777.731 190.024 777.536 189.828L774.354 186.646ZM774.5 208V187H773.5V208H774.5Z" fill="black"/>
<path d="M823.354 186.646C823.158 186.451 822.842 186.451 822.646 186.646L819.464 189.828C819.269 190.024 819.269 190.34 819.464 190.536C819.66 190.731 819.976 190.731 820.172 190.536L823 187.707L825.828 190.536C826.024 190.731 826.34 190.731 826.536 190.536C826.731 190.34 826.731 190.024 826.536 189.828L823.354 186.646ZM823.5 208V187H822.5V208H823.5Z" fill="black"/>
<path d="M788.962 139.658C788.904 139.388 788.639 139.216 788.369 139.274L783.969 140.217C783.699 140.275 783.527 140.541 783.584 140.811C783.642 141.081 783.908 141.253 784.178 141.195L788.089 140.357L788.927 144.268C788.985 144.538 789.251 144.71 789.521 144.652C789.791 144.594 789.963 144.329 789.905 144.059L788.962 139.658ZM775.288 161.061L788.893 140.035L788.054 139.492L774.448 160.518L775.288 161.061Z" fill="black"/>
<path d="M691.252 139.658C691.195 139.388 690.929 139.216 690.659 139.274L686.259 140.217C685.989 140.275 685.817 140.541 685.874 140.811C685.932 141.081 686.198 141.253 686.468 141.195L690.379 140.357L691.217 144.268C691.275 144.538 691.541 144.71 691.811 144.652C692.081 144.594 692.253 144.329 692.195 144.059L691.252 139.658ZM677.578 161.061L691.183 140.035L690.344 139.492L676.738 160.518L677.578 161.061Z" fill="black"/>
<path d="M593.541 139.658C593.484 139.388 593.218 139.216 592.948 139.274L588.548 140.217C588.278 140.275 588.106 140.541 588.164 140.811C588.221 141.081 588.487 141.253 588.757 141.195L592.668 140.357L593.507 144.268C593.564 144.538 593.83 144.71 594.1 144.652C594.37 144.594 594.542 144.329 594.484 144.059L593.541 139.658ZM579.867 161.061L593.472 140.035L592.633 139.492L579.027 160.518L579.867 161.061Z" fill="black"/>
<path d="M495.212 139.658C495.154 139.388 494.889 139.216 494.619 139.274L490.219 140.217C489.949 140.275 489.777 140.541 489.834 140.811C489.892 141.081 490.158 141.253 490.428 141.195L494.339 140.357L495.177 144.268C495.235 144.538 495.501 144.71 495.771 144.652C496.041 144.594 496.213 144.329 496.155 144.059L495.212 139.658ZM481.538 161.061L495.143 140.035L494.304 139.492L480.698 160.518L481.538 161.061Z" fill="black"/>
<path d="M495.212 139.658C495.154 139.388 494.889 139.216 494.619 139.274L490.219 140.217C489.949 140.275 489.777 140.541 489.834 140.811C489.892 141.081 490.158 141.253 490.428 141.195L494.339 140.357L495.177 144.268C495.235 144.538 495.501 144.71 495.771 144.652C496.041 144.594 496.213 144.329 496.155 144.059L495.212 139.658ZM481.538 161.061L495.143 140.035L494.304 139.492L480.698 160.518L481.538 161.061Z" fill="black"/>
<path d="M756.824 86.091C756.555 86.1517 756.386 86.4193 756.446 86.6887L757.435 91.0787C757.496 91.3481 757.763 91.5173 758.033 91.4566C758.302 91.3959 758.471 91.1284 758.411 90.859L757.532 86.9567L761.434 86.0778C761.703 86.0172 761.873 85.7496 761.812 85.4802C761.751 85.2108 761.484 85.0416 761.214 85.1023L756.824 86.091ZM799.254 112.748L757.201 86.1562L756.667 87.0014L798.72 113.593L799.254 112.748Z" fill="black"/>
<path d="M565.114 86.091C564.844 86.1517 564.675 86.4193 564.736 86.6887L565.725 91.0787C565.785 91.3481 566.053 91.5173 566.322 91.4566C566.592 91.3959 566.761 91.1284 566.7 90.859L565.821 86.9567L569.724 86.0778C569.993 86.0172 570.162 85.7496 570.102 85.4802C570.041 85.2108 569.773 85.0416 569.504 85.1023L565.114 86.091ZM607.544 112.748L565.491 86.1562L564.957 87.0014L607.009 113.593L607.544 112.748Z" fill="black"/>
<path d="M744.434 86.6919C744.497 86.4229 744.329 86.1542 744.06 86.0917L739.677 85.0742C739.408 85.0117 739.139 85.1792 739.077 85.4481C739.014 85.7171 739.182 85.9858 739.451 86.0483L743.347 86.9528L742.443 90.8492C742.38 91.1182 742.548 91.3868 742.817 91.4493C743.086 91.5117 743.354 91.3443 743.417 91.0753L744.434 86.6919ZM701.541 113.595L744.212 87.0031L743.683 86.1545L701.012 112.747L701.541 113.595Z" fill="black"/>
<path d="M549.014 86.6919C549.076 86.4229 548.909 86.1542 548.64 86.0917L544.256 85.0742C543.987 85.0117 543.718 85.1792 543.656 85.4481C543.594 85.7171 543.761 85.9858 544.03 86.0483L547.926 86.9528L547.022 90.8492C546.959 91.1182 547.127 91.3868 547.396 91.4493C547.665 91.5117 547.934 91.3443 547.996 91.0753L549.014 86.6919ZM506.12 113.595L548.791 87.0031L548.262 86.1545L505.591 112.747L506.12 113.595Z" fill="black"/>
<path d="M646.69 26.804C646.807 26.5539 646.699 26.2563 646.449 26.1392L642.373 24.2318C642.123 24.1148 641.825 24.2227 641.708 24.4728C641.591 24.7229 641.699 25.0205 641.949 25.1376L645.572 26.833L643.877 30.4559C643.76 30.706 643.868 31.0037 644.118 31.1207C644.368 31.2378 644.665 31.1299 644.783 30.8798L646.69 26.804ZM554.263 60.4569L646.407 27.0622L646.067 26.122L553.922 59.5167L554.263 60.4569Z" fill="black"/>
<path d="M661.492 26.1364C661.24 26.2501 661.128 26.5463 661.242 26.7979L663.095 30.8989C663.208 31.1505 663.505 31.2623 663.756 31.1487C664.008 31.035 664.12 30.7388 664.006 30.4871L662.359 26.8419L666.004 25.195C666.256 25.0813 666.368 24.7852 666.254 24.5335C666.141 24.2819 665.844 24.17 665.593 24.2837L661.492 26.1364ZM750.308 59.5191L661.874 26.1243L661.521 27.0598L749.955 60.4546L750.308 59.5191Z" fill="black"/>
<path d="M811.431 139.269C811.158 139.227 810.903 139.415 810.861 139.688L810.183 144.136C810.141 144.409 810.328 144.664 810.601 144.706C810.874 144.748 811.129 144.56 811.171 144.287L811.774 140.333L815.729 140.936C816.002 140.978 816.257 140.79 816.298 140.517C816.34 140.244 816.152 139.989 815.879 139.948L811.431 139.269ZM827.219 160.493L811.758 139.467L810.953 140.059L826.413 161.086L827.219 160.493Z" fill="black"/>
<path d="M710.009 139.269C709.736 139.227 709.481 139.415 709.44 139.688L708.761 144.136C708.719 144.409 708.907 144.664 709.18 144.706C709.453 144.748 709.708 144.56 709.75 144.287L710.353 140.333L714.307 140.936C714.58 140.978 714.835 140.79 714.877 140.517C714.918 140.244 714.731 139.989 714.458 139.948L710.009 139.269ZM725.797 160.493L710.337 139.467L709.531 140.059L724.992 161.086L725.797 160.493Z" fill="black"/>
<path d="M612.918 139.269C612.645 139.227 612.39 139.415 612.348 139.688L611.669 144.136C611.628 144.409 611.815 144.664 612.088 144.706C612.361 144.748 612.616 144.56 612.658 144.287L613.261 140.333L617.215 140.936C617.488 140.978 617.743 140.79 617.785 140.517C617.827 140.244 617.639 139.989 617.366 139.948L612.918 139.269ZM628.706 160.493L613.245 139.467L612.439 140.059L627.9 161.086L628.706 160.493Z" fill="black"/>
<path d="M514.589 139.269C514.316 139.227 514.06 139.415 514.019 139.688L513.34 144.136C513.299 144.409 513.486 144.664 513.759 144.706C514.032 144.748 514.287 144.56 514.329 144.287L514.932 140.333L518.886 140.936C519.159 140.978 519.414 140.79 519.456 140.517C519.498 140.244 519.31 139.989 519.037 139.948L514.589 139.269ZM530.376 160.493L514.916 139.467L514.11 140.059L529.571 161.086L530.376 160.493Z" fill="black"/>
<path d="M552.464 82H556.58C558.89 82 560.094 81.034 560.094 79.2V79.144C560.094 77.8 559.394 77.058 558.092 76.792C559.212 76.47 559.716 75.7 559.716 74.65V74.594C559.716 72.886 558.582 71.99 556.398 71.99H552.464V82ZM554.676 80.432V77.562H556.118C557.35 77.562 557.854 78.038 557.854 78.962V79.018C557.854 79.928 557.35 80.432 556.23 80.432H554.676ZM554.676 76.106V73.544H556.02C557.084 73.544 557.56 73.922 557.56 74.762V74.818C557.56 75.714 557.126 76.106 556.034 76.106H554.676Z" fill="black"/>
<path d="M504.767 133.236V126.754H505.663C507.777 126.754 508.659 127.86 508.659 129.918V130.03C508.659 132.102 507.707 133.236 505.691 133.236H504.767ZM502.499 135H505.761C509.275 135 511.025 132.998 511.025 130.002V129.89C511.025 126.894 509.289 124.99 505.775 124.99H502.499V135Z" fill="black"/>
<path d="M600.415 135H607.163V133.236H602.669V130.744H606.085V129.092H602.669V126.754H606.939V124.99H600.415V135Z" fill="black"/>
<path d="M698.606 136H700.874V132.122H704.164V130.414H700.874V127.768H705.032V125.99H698.606V136Z" fill="black"/>
<path d="M799.766 135.154C802.762 135.154 804.47 133.376 804.47 130.702V129.638H799.976V131.29H802.23C802.188 132.438 801.502 133.404 799.822 133.404C797.862 133.404 797.036 132.018 797.036 130.086V129.974C797.036 127.93 798.058 126.628 799.794 126.628C800.998 126.628 801.768 127.16 801.964 128.336H804.218C803.98 125.858 801.992 124.836 799.766 124.836C796.812 124.836 794.67 126.936 794.67 129.946V130.058C794.67 133.026 796.49 135.154 799.766 135.154ZM806.607 128.7L808.413 125.466L806.607 124.822L805.445 128.224L806.607 128.7Z" fill="black"/>
<path d="M751.819 82.154C754.283 82.154 756.061 80.88 756.313 78.402H754.087C753.905 79.69 753.037 80.32 751.791 80.32C750.139 80.32 749.187 79.116 749.187 77.044V76.932C749.187 74.86 750.195 73.628 751.777 73.628C753.037 73.628 753.709 74.272 753.877 75.476H756.201C755.963 73.012 754.171 71.836 751.763 71.836C748.921 71.836 746.793 73.908 746.793 76.946V77.058C746.793 80.138 748.543 82.154 751.819 82.154ZM758.484 75.7L760.29 72.466L758.484 71.822L757.322 75.224L758.484 75.7Z" fill="black"/>
<path d="M646.82 22H648.948L649.634 19.774H653.26L653.946 22H656.312L653.064 11.99H650.11L646.82 22ZM651.454 13.838L652.77 18.164H650.124L651.454 13.838ZM657.191 15.7L658.997 12.466L657.191 11.822L656.029 15.224L657.191 15.7Z" fill="black"/>
<path d="M480.963 181H483.231V170.99H481.243L478.933 172.628V174.56L480.963 173.23V181Z" fill="black"/>
<path d="M524.519 181H532.079V179.278H528.187L530.077 177.43C531.239 176.31 532.009 175.218 532.009 173.888C532.009 172.082 530.749 170.85 528.537 170.85C526.297 170.85 524.897 172.11 524.785 174.42H526.843C526.997 173.104 527.557 172.586 528.439 172.586C529.307 172.586 529.769 173.118 529.769 173.944C529.769 174.854 529.153 175.736 528.187 176.758L524.519 180.636V181Z" fill="black"/>
<path d="M579.439 181.154C581.875 181.154 583.317 179.964 583.317 178.088C583.317 176.814 582.533 175.988 581.371 175.736C582.365 175.386 583.023 174.686 583.023 173.566C583.023 171.998 581.735 170.85 579.537 170.85C577.255 170.85 575.953 172.194 575.841 174.028H577.843C577.955 173.09 578.543 172.516 579.495 172.516C580.419 172.516 580.881 173.048 580.881 173.762C580.881 174.616 580.405 175.092 579.355 175.092H578.627V176.604H579.411C580.489 176.604 581.021 177.094 581.021 178.046C581.021 178.942 580.489 179.488 579.355 179.488C578.151 179.488 577.633 178.788 577.549 177.822H575.505C575.589 179.852 576.891 181.154 579.439 181.154Z" fill="black"/>
<path d="M629.184 181H631.382V179.012H632.698V177.388H631.382V170.99H628.596L624.27 178.186V179.012H629.184V181ZM626.538 177.388L629.226 172.698V177.388H626.538Z" fill="black"/>
<path d="M676.851 181.154C679.161 181.154 680.687 179.796 680.687 177.668C680.687 175.54 679.441 174.294 677.621 174.294C676.487 174.294 675.787 174.742 675.395 175.218L675.437 172.712H680.085V170.99H673.743L673.603 176.688H674.863C675.269 176.226 675.843 175.89 676.781 175.89C677.789 175.89 678.405 176.562 678.405 177.64C678.405 178.704 677.859 179.418 676.837 179.418C675.689 179.418 675.353 178.858 675.227 178.018H673.141C673.239 179.81 674.387 181.154 676.851 181.154Z" fill="black"/>
<path d="M725.666 181.154C728.046 181.154 729.516 179.768 729.516 177.71C729.516 175.694 728.102 174.462 726.212 174.462C725.008 174.462 724.252 174.966 723.79 175.708C723.846 173.65 724.616 172.558 725.862 172.558C726.73 172.558 727.066 172.964 727.206 173.622H729.306C729.082 171.788 727.822 170.85 725.834 170.85C723.384 170.85 721.55 172.74 721.55 176.128V176.38C721.55 179.11 722.642 181.154 725.666 181.154ZM725.638 179.516C724.63 179.516 723.93 178.816 723.93 177.668C723.93 176.674 724.63 175.96 725.638 175.96C726.66 175.96 727.29 176.688 727.29 177.738C727.29 178.788 726.632 179.516 725.638 179.516Z" fill="black"/>
<path d="M772.333 181H774.643L778.227 171.242V170.99H770.975V172.824H775.385L772.333 181Z" fill="black"/>
<path d="M821.657 181.154C823.883 181.154 825.563 180.076 825.563 178.116C825.563 176.926 824.905 176.058 823.729 175.652C824.611 175.26 825.185 174.574 825.185 173.566C825.185 171.858 823.589 170.85 821.671 170.85C819.795 170.85 818.129 171.844 818.129 173.58C818.129 174.588 818.675 175.288 819.585 175.666C818.437 176.072 817.737 176.954 817.737 178.172C817.737 180.132 819.445 181.154 821.657 181.154ZM821.657 179.502C820.733 179.502 819.991 178.956 819.991 177.962C819.991 176.968 820.747 176.422 821.671 176.422C822.609 176.422 823.323 176.968 823.323 177.948C823.323 178.942 822.609 179.502 821.657 179.502ZM821.685 175.036C820.901 175.036 820.243 174.546 820.243 173.734C820.243 172.922 820.873 172.432 821.671 172.432C822.469 172.432 823.085 172.95 823.085 173.72C823.085 174.546 822.497 175.036 821.685 175.036ZM827.541 174.7L829.347 171.466L827.541 170.822L826.379 174.224L827.541 174.7Z" fill="black"/>
</svg>



</div>

For all nodes, with the exception of `A`, `C`, `F` and `6`, the hashes are identical. When starting the compare process, work starts at the top of the tree. The system can instantly tell that the two buffers differ after comparing `A` & `A'` and more comparison work is warranted.
It can then compare node by node as it steps down - it can quickly exclude checking anything below the `B` page, since it matches, and focus on the path down to `6`. In this tiny example with 8 pages, it takes a handful of steps to detect that page `6` differs â€” the pay off in reduced compute improves dramatically with large buffers holding thousands of pages and accepting sparse updates - as is the typical case for bigger reference data repositories. 

Note that there are multiple ways to traverse the tree, and you should consider the approach used based upon your requirements.

---

## Backlinks



<div class="flex flex-row p-2 rounded-md">
    <div class="pr-2">
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" width="24" height="24" stroke="currentColor">
  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
</svg>
    </div>
    <div>
         <a href="../../article/efficient-state-transfer-with-merkle-trees/">Efficient state transfer with Merkle trees</a>
    </div>
</div>



---

## References

<div class="flex flex-row p-2 rounded-md">
    <div class="pr-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">
          <path fill="#EFF7FE" d="M12 14l9-5-9-5-9 5 9 5z" />
          <path fill="#EFF7FE" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
        </svg>
    </div>
    <div>
         Merkle, R. C. (1988). "A Digital Signature Based on a Conventional Encryption Function". Advances in Cryptology â€” CRYPTO '87. Lecture Notes in Computer Science. 293. pp. 369â€“378. <a href="https://doi.org/10.1007%2F3-540-48184-2_32">doi:10.1007/3-540-48184-2_32</a>
    </div>
</div>

 <div class="flex flex-row p-2 rounded-md">
    <div class="pr-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">
          <path fill="#EFF7FE" d="M12 14l9-5-9-5-9 5 9 5z" />
          <path fill="#EFF7FE" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
        </svg>
    </div>
    <div>
         Boris Ederov 2007: <a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.84.9700&rep=rep1&type=pdf">Merkle Tree Traversal Techniques</a>
    </div>
</div>

 <div class="flex flex-row p-2 rounded-md">
    <div class="pr-2">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor">
          <path fill="#EFF7FE" d="M12 14l9-5-9-5-9 5 9 5z" />
          <path fill="#EFF7FE" d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
        </svg>
    </div>
    <div>
         Szydlo M. (2004) Merkle Tree Traversal in Log Space and Time. In: Cachin C., Camenisch J.L. (eds) Advances in Cryptology - EUROCRYPT 2004. EUROCRYPT 2004. Lecture Notes in Computer Science, vol 3027. Springer, Berlin, Heidelberg. <a href="https://doi.org/10.1007/978-3-540-24676-3_32">doi:10.1007/978-3-540-24676-3_32</a>
    </div>
</div>

 
---

## Change log

- Created 8 December 2020 
- Updated 12 December 2020 with link to the original paper
